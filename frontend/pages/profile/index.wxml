<view class="container">
  <view class="user-card card">
    <view class="user-info" wx:if="{{userInfo}}">
      <view class="avatar">
        <text>{{ userInfo.name ? userInfo.name[0] : 'U' }}</text>
      </view>
      <view class="info-text">
        <view class="name">{{ userInfo.name }}</view>
        <view class="sub-info">{{ userInfo.student_id }}</view>
      </view>
    </view>
    <view class="user-info" wx:else bindtap="goToLogin">
      <view class="avatar placeholder">
        <text>?</text>
      </view>
      <view class="info-text">
        <view class="name">点击登录</view>
        <view class="sub-info">登录后使用预约功能</view>
      </view>
    </view>
  </view>

  <view class="menu-list card">
    <view class="menu-item" bindtap="navigateTo" data-url="/pages/my-reservations/index">
      <text class="menu-text">我的预约</text>
      <text class="arrow">></text>
    </view>
    
    <view class="menu-item" wx:if="{{isAdmin}}" bindtap="navigateTo" data-url="/pages/admin/index">
      <text class="menu-text">管理员后台</text>
      <text class="arrow">></text>
    </view>
  </view>

  <view class="action-area" wx:if="{{userInfo}}">
    <button class="btn-logout" bindtap="handleLogout">退出登录</button>
  </view>
</view>
